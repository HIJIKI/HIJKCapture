//--------------------------------------------------------------------------------------------------
//= EditGdraw.hsp
//--------------------------------------------------------------------------------------------------
//	編集ウィンドウの描画処理
//--------------------------------------------------------------------------------------------------

	//----------------------------------------------------------------------------------------------
	//= 更新停止
	//----------------------------------------------------------------------------------------------
		redraw 0

	//----------------------------------------------------------------------------------------------
	//= 画面初期化
	//----------------------------------------------------------------------------------------------
		syscolor 16:boxf

	//----------------------------------------------------------------------------------------------
	//= キャプチャしたスクリーンショットを描画
	//----------------------------------------------------------------------------------------------
		//縁
		color 0, 0, 0
		boxf EditPosX-1, EditPosY-1, EditPosX+CaptureSizeW, EditPosY+CaptureSizeH
		//SS
		gmode 0
		pos EditPosX, EditPosY
		gcopy SCR_SSBUF, 0, 0, CaptureSizeW, CaptureSizeH

	//----------------------------------------------------------------------------------------------
	//= 描いたペンを描画
	//----------------------------------------------------------------------------------------------
		gmode 4, , , 256:COLSET_ALPHA
		pos EditPosX, EditPosY
		gcopy SCR_PENBUF, 0, 0, CaptureSizeW, CaptureSizeH

	//----------------------------------------------------------------------------------------------
	//= ペンのサイズ描画
	//----------------------------------------------------------------------------------------------
		x = MousePosX() : y = MousePosY()
		eps = EditPenSize/2
		color 0, 0, 0
		circle x-eps, y-eps, x+eps+1, y+eps+1, 0

	//----------------------------------------------------------------------------------------------
	//= 再描画
	//----------------------------------------------------------------------------------------------
		redraw 1